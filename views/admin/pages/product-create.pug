extends ../layouts/default.pug
include ../mixins/options.pug

block main
  h1.box-title Tạo sản phẩm

  .section-8
    form#product-create-form
      // ===== Thông tin cơ bản =====
      .inner-group
        label(class="inner-label" for="name") Tên sản phẩm
        input(type="text" id="name" name="name" required)
      .inner-group
        label(class="inner-label" for="category") Danh mục
        select(id="category" name="category")
          option(value="") -- Chọn danh mục --
          +options(categoryList, 0)
      .inner-group
        label(class="inner-label" for="status") Trạng thái
        select(id="status" name="status" required)
          option(value="active") Hoạt động
          option(value="inactive") Dừng bán

      // ===== Hình ảnh =====
      .inner-group.inner-two-col
        label(class="inner-label" for="avatar") Ảnh đại diện
        div(class="inner-upload-image")
          input(type="file" id="avatar" accept="image/*" filepond-image name="avatar")

      .inner-group.inner-two-col
        label(class="inner-label" for="images") Danh sách ảnh
        div(class="inner-upload-image-multi")
          input(type="file" multiple data-allow-reorder="true" id="images" accept="image/*" filepond-image-multi name="images")

      // ===== Giá & tồn kho =====
      .inner-group
        label(class="inner-label" for="price") Giá gốc
        input(type="number" id="price" name="price" required min="0")
      .inner-group
        label(class="inner-label" for="salePrice") Giá khuyến mãi
        input(type="number" id="salePrice" name="salePrice" min="0")
      .inner-group
        label(class="inner-label" for="unit") Đơn vị tính
        select(id="unit" name="unit" required)
          option(value="") -- Chọn đơn vị --
          option(value="Hộp") Hộp
          option(value="Vỉ") Vỉ
          option(value="Chai") Chai
          option(value="Gói") Gói
          option(value="Tuýp") Tuýp
      .inner-group
        label(class="inner-label" for="stock") Số lượng tồn kho
        input(type="number" id="stock" name="stock" required min="0")

      // ===== Mô tả =====
      .inner-group
        label(class="inner-label" for="shortDescription") Mô tả ngắn
        textarea(id="shortDescription" name="shortDescription" required)
      .inner-group
        label(class="inner-label" for="description") Mô tả chi tiết
        textarea(id="description" textarea-mce name="description")

      // ===== Thông tin đặc thù (ẩn/hiện theo danh mục) =====
      // Thuốc và Mẹ và Bé
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="activeIngredient") Hoạt chất
        input(type="text" id="activeIngredient" name="activeIngredient")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="dosageForm") Dạng bào chế
        input(type="text" id="dosageForm" name="dosageForm")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="packaging") Quy cách đóng gói
        input(type="text" id="packaging" name="packaging")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="manufacturer") Nhà sản xuất
        input(type="text" id="manufacturer" name="manufacturer")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="countryOfOrigin") Nước sản xuất
        input(type="text" id="countryOfOrigin" name="countryOfOrigin")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="registrationNumber") Số đăng ký
        input(type="text" id="registrationNumber" name="registrationNumber")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="indication") Chỉ định
        textarea(id="indication" name="indication")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="contraindication") Chống chỉ định
        textarea(id="contraindication" name="contraindication")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="dosage") Liều dùng
        textarea(id="dosage" name="dosage")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="sideEffects") Tác dụng phụ
        textarea(id="sideEffects" name="sideEffects")
      .inner-group.extra-fields(data-category="thuoc me-va-be")
        label(class="inner-label" for="storage") Bảo quản
        input(type="text" id="storage" name="storage")
      .inner-group.extra-fields(data-category="me-va-be")
        label(class="inner-label" for="ageGroup") Độ tuổi phù hợp
        input(type="text" id="ageGroup" name="ageGroup")
      .inner-group.extra-fields(data-category="me-va-be")
        label(class="inner-label" for="safetyComponents") Thành phần an toàn
        input(type="text" id="safetyComponents" name="safetyComponents")

      // Thực phẩm bảo vệ sức khỏe
      .inner-group.extra-fields(data-category="thuc-pham-bao-ve-suc-khoe")
        label(class="inner-label" for="nutrientContent") Hàm lượng dinh dưỡng
        input(type="text" id="nutrientContent" name="nutrientContent")
      .inner-group.extra-fields(data-category="thuc-pham-bao-ve-suc-khoe")
        label(class="inner-label" for="targetAudience") Đối tượng sử dụng
        input(type="text" id="targetAudience" name="targetAudience")
      .inner-group.extra-fields(data-category="thuc-pham-bao-ve-suc-khoe")
        label(class="inner-label" for="recommendedDosage") Liều dùng khuyến nghị
        textarea(id="recommendedDosage" name="recommendedDosage")
      .inner-group.extra-fields(data-category="thuc-pham-bao-ve-suc-khoe")
        label(class="inner-label" for="ingredientsSupplement") Thành phần chi tiết
        input(type="text" id="ingredientsSupplement" name="ingredientsSupplement")
      .inner-group.extra-fields(data-category="thuc-pham-bao-ve-suc-khoe")
        label(class="inner-label" for="expirationDate") Hạn sử dụng
        input(type="text" id="expirationDate" name="expirationDate")
      .inner-group.extra-fields(data-category="thuc-pham-bao-ve-suc-khoe")
        label(class="inner-label" for="certificationSupplement") Chứng nhận
        input(type="text" id="certificationSupplement" name="certificationSupplement")

      // Chăm sóc cá nhân
      .inner-group.extra-fields(data-category="cham-soc-ca-nhan")
        label(class="inner-label" for="skinType") Kiểu da/Thể loại
        input(type="text" id="skinType" name="skinType")
      .inner-group.extra-fields(data-category="cham-soc-ca-nhan")
        label(class="inner-label" for="mainIngredientsPersonalCare") Thành phần chính
        input(type="text" id="mainIngredientsPersonalCare" name="mainIngredientsPersonalCare")
      .inner-group.extra-fields(data-category="cham-soc-ca-nhan")
        label(class="inner-label" for="usageInstructionsPersonalCare") Hướng dẫn sử dụng
        textarea(id="usageInstructionsPersonalCare" name="usageInstructionsPersonalCare")
      .inner-group.extra-fields(data-category="cham-soc-ca-nhan")
        label(class="inner-label" for="volume") Khối lượng/Dung tích
        input(type="text" id="volume" name="volume")
      .inner-group.extra-fields(data-category="cham-soc-ca-nhan")
        label(class="inner-label" for="distributorPersonalCare") Nhà phân phối
        input(type="text" id="distributorPersonalCare" name="distributorPersonalCare")

      // Chăm sóc sắc đẹp
      .inner-group.extra-fields(data-category="cham-soc-sac-dep")
        label(class="inner-label" for="productTypeBeauty") Loại sản phẩm
        input(type="text" id="productTypeBeauty" name="productTypeBeauty")
      .inner-group.extra-fields(data-category="cham-soc-sac-dep")
        label(class="inner-label" for="colorScent") Màu sắc/Hương thơm
        input(type="text" id="colorScent" name="colorScent")
      .inner-group.extra-fields(data-category="cham-soc-sac-dep")
        label(class="inner-label" for="activeIngredientsBeauty") Thành phần hoạt tính
        input(type="text" id="activeIngredientsBeauty" name="activeIngredientsBeauty")
      .inner-group.extra-fields(data-category="cham-soc-sac-dep")
        label(class="inner-label" for="usageTime") Thời gian sử dụng
        input(type="text" id="usageTime" name="usageTime")
      .inner-group.extra-fields(data-category="cham-soc-sac-dep")
        label(class="inner-label" for="distributorBeauty") Nhà phân phối
        input(type="text" id="distributorBeauty" name="distributorBeauty")

      // Thiết bị y tế
      .inner-group.extra-fields(data-category="thiet-bi-y-te")
        label(class="inner-label" for="deviceType") Loại thiết bị
        input(type="text" id="deviceType" name="deviceType")
      .inner-group.extra-fields(data-category="thiet-bi-y-te")
        label(class="inner-label" for="usageInstructionsDevice") Hướng dẫn sử dụng
        textarea(id="usageInstructionsDevice" name="usageInstructionsDevice")
      .inner-group.extra-fields(data-category="thiet-bi-y-te")
        label(class="inner-label" for="powerSource") Nguồn điện
        input(type="text" id="powerSource" name="powerSource")
      .inner-group.extra-fields(data-category="thiet-bi-y-te")
        label(class="inner-label" for="medicalCertification") Chứng nhận y tế
        input(type="text" id="medicalCertification" name="medicalCertification")
      .inner-group.extra-fields(data-category="thiet-bi-y-te")
        label(class="inner-label" for="warranty") Bảo hành
        input(type="text" id="warranty" name="warranty")

      // Sản phẩm tiện lợi
      .inner-group.extra-fields(data-category="san-pham-tien-loi")
        label(class="inner-label" for="productTypeConvenience") Loại sản phẩm
        input(type="text" id="productTypeConvenience" name="productTypeConvenience")
      .inner-group.extra-fields(data-category="san-pham-tien-loi")
        label(class="inner-label" for="usageConvenience") Công dụng
        textarea(id="usageConvenience" name="usageConvenience")
      .inner-group.extra-fields(data-category="san-pham-tien-loi")
        label(class="inner-label" for="manufacturerConvenience") Nhà sản xuất
        input(type="text" id="manufacturerConvenience" name="manufacturerConvenience")

      // ===== Nút tạo mới =====
      .inner-button.inner-two-col
        button(type="submit") Tạo mới

    .inner-back
      a(href=`/${pathAdmin}/product/list`) Quay lại danh sách